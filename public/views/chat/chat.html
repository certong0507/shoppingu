<script src="/socket.io/socket.io.js"></script>
<div class="container padding-top-2x padding-bottom-3x mb-2" ng-init="initUserProfile()">
    <div class="row">
        <div class="col-lg-4">
            <div class="panel-heading">
                <h3 class="panel-title">在线<span class="user-number">{{users.length-1}}</span></h3>
            </div>
            <div class="user-wrapper panel-body">
                <div class="user" ng-repeat="user in users" ng-click="setReceiver(user.username)">
                    <span class="avatar"></span><span class="nickname">{{user.username}}</span>
                    <span class="unread" ng-show="info.hasNewMessage&&!iscurrentreceiver">[未读]</span>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="jumbotron m-0 p-0 bg-transparent">
                <div class="row m-0 p-0 position-relative">
                    <div class="col-12 p-0 m-0" style="right: 0px;">
                        <div class="card border-0 rounded" style="box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.10), 0 6px 10px 0 rgba(0, 0, 0, 0.01); overflow: hidden; height: 100vh;">
                            <div class="card-header p-1 bg-light border border-top-0 border-left-0 border-right-0"
                                style="color: rgba(96, 125, 139,1.0);">
                                <img class="rounded float-left" style="width: 50px; height: 50px;" src="https://i.pinimg.com/736x/5c/24/69/5c24695df36eee73abfbdd8274085ecd--cute-anime-guys-anime-boys.jpg" />
                                <h6 class="float-left" style="margin: 0px; margin-left: 10px;"> {{receiver}} <i class="fa fa-check text-primary"
                                        title="Onaylanmış Hesap!" aria-hidden="true"></i> </br><small> Malaysia
                                    </small></h6>
                                <!-- <div class="dropdown show">
                                    <a id="dropdownMenuLink" data-toggle="dropdown" class="btn btn-sm float-right text-secondary"
                                        role="button">
                                        <h5><i class="fa fa-ellipsis-h" title="Ayarlar!" aria-hidden="true"></i>&nbsp;</h5>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right border p-0" aria-labelledby="dropdownMenuLink">
                                        <a class="dropdown-item p-2 text-secondary" href="#"> <i class="fa fa-user m-1"
                                                aria-hidden="true"></i> Profile </a>
                                        <hr class="my-1">
                                        </hr>
                                        <a class="dropdown-item p-2 text-secondary" href="#"> <i class="fa fa-trash m-1"
                                                aria-hidden="true"></i> Delete </a>
                                    </div>
                                </div> -->
                            </div>
                            <div class="card bg-sohbet border-0 m-0 p-0" style="height: 100vh;">
                                <div id="sohbet" class="card border-0 m-0 p-0 position-relative bg-transparent" style="overflow-y: auto;">
                                    <div class="balon1 p-2 m-0 position-relative" ng-class="nickname===message.from ? 'balon1' : 'balon2'" ng-repeat="message in messages" data-is="{{message.from}} - {{message.time | date: 'HH:mm:ss'}}">
                                        <a ng-class="nickname===message.from ? 'float-right' : 'float-left'">{{message.text}}</a>
                                        <!-- <message self="nickname" scrolltothis="scrollToBottom()" info="message" ng-repeat="message in publicMessages"></message> -->
                                    </div>
                                    <!-- <div class="balon2 p-2 m-0 position-relative" ng-repeat="message in messages" ng-if="message.to == nickname" data-is="{{nickname}} - {{message.time | date: 'HH:mm:ss'}}">
                                        <a class="float-left">{{message.text}}</a>
                                    </div> -->
                                    <!-- <div class="balon1 p-2 m-0 position-relative" data-is="You - 3:23 pm">
                                        <a class="float-right"> Check out this bubble! </a>
                                    </div>
                                    <div class="balon2 p-2 m-0 position-relative" data-is="Yusuf - 3:26 pm">
                                        <a class="float-left sohbet2"> It's pretty cool! </a>
                                    </div>
                                    <div class="balon1 p-2 m-0 position-relative" data-is="You - 3:28 pm">
                                        <a class="float-right"> Yeah it's pure CSS & HTML </a>
                                    </div>
                                    <div class="balon2 p-2 m-0 position-relative" data-is="Yusuf - 3:33 pm">
                                        <a class="float-left sohbet2"> Wow that's impressive. But what's even more
                                            impressive is that this bubble is really high. </a>
                                    </div> -->
                                </div>
                            </div>
                            <div class="w-100 card-footer p-0 bg-light border border-bottom-0 border-left-0 border-right-0">
                                <!-- <form class="m-0 p-0" action="" method="POST" autocomplete="off"> -->
                                    <div class="row m-0 p-0">
                                        <div class="col-9 m-0 p-1">
                                            <input id="text" class="mw-100 border rounded form-control" type="text" ng-model="words"
                                                name="text" title="Type a message..." placeholder="Type a message..."
                                                required>
                                        </div>
                                        <div class="col-3 m-0 p-1">
                                            <button class="btn btn-outline-secondary rounded border w-100" ng-click="postMessage()">
                                                Send
                                            </button>
                                            <!-- <button class="btn btn-outline-secondary rounded border w-100" title="Gönder!"
                                                style="padding-right: 16px;"><i class="fa fa-paper-plane" aria-hidden="true"></i>Send</button> -->
                                        </div>
                                    </div>
                                <!-- </form> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script> -->